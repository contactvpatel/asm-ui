<div>
  <p-card>
    <ng-template pTemplate="title"> Details </ng-template>
    <ng-template pTemplate="subtitle">
      Add/edit Event Template Details
    </ng-template>
    <ng-template pTemplate="content">
      <div class="p-fluid" [formGroup]="eventTemplateForm">
        <div class="p-grid">
          <div class="p-col-6 p-md-6">
            <div class="p-fluid p-formgrid p-grid">
              <div class="p-field p-col-12">
                <label for="eventtype">Event Type <span>*</span></label>
                <p-dropdown
                  id="eventtype"
                  formControlName="eventType"
                  [options]="eventTypeList"
                  optionLabel="name"
                  optionValue="eventTemplateTypeId"
                  placeholder="Select Event Type"
                  [ngClass]="{
                    'p-invalid': frm.eventType.invalid && submitted
                  }"
                >
                </p-dropdown>
                <small
                  *ngIf="frm.eventType.invalid && submitted"
                  class="p-error"
                  >Event Type is required.</small
                >
              </div>

              <div class="p-field p-col-12">
                <label for="eventsubtype">Event Sub Type <span>*</span></label>
                <p-dropdown
                  id="eventSubType"
                  formControlName="eventSubType"
                  [options]="eventSubTypeList"
                  optionLabel="name"
                  optionValue="eventTemplateSubTypeId"
                  placeholder="Select Event Sub Type"
                  [ngClass]="{
                    'p-invalid': frm.eventSubType.invalid && submitted
                  }"
                >
                </p-dropdown>
                <p-progressSpinner
                  *ngIf="subTypeLoader"
                  [style]="{ width: '30px', height: '30px' }"
                  strokeWidth="5"
                ></p-progressSpinner>
                <small
                  *ngIf="frm.eventSubType.invalid && submitted"
                  class="p-error"
                  >Event Sub Type is required.</small
                >
              </div>

              <div class="p-field p-col-12">
                <label for="name">Event Name <span>*</span></label>
                <input
                  id="name"
                  type="text"
                  pInputText
                  formControlName="name"
                  [ngClass]="{ 'p-invalid': frm.name.invalid && submitted }"
                />
                <small
                  *ngIf="frm.name.invalid && submitted"
                  class="p-error"
                  style="display: block"
                  >Event Name is required.</small
                >
              </div>

              <div class="p-field p-col-12">
                <label for="shortdescription"
                  >Event Short Description <span>*</span></label
                >
                <textarea
                  id="shortdescription"
                  [rows]="3"
                  pInputTextarea
                  autoResize="autoResize"
                  formControlName="shortDescription"
                  [ngClass]="{
                    'p-invalid': frm.shortDescription.invalid && submitted
                  }"
                ></textarea>
                <small
                  *ngIf="frm.shortDescription.invalid && submitted"
                  class="p-error"
                  >Event short description is required.</small
                >
              </div>

              <div class="p-field p-col-12">
                <label for="shortdescription">Event Long Description</label>
                <textarea
                  id="shortdescription"
                  [rows]="3"
                  pInputTextarea
                  autoResize="autoResize"
                  formControlName="longDescription"
                  [ngClass]="{
                    'p-invalid': frm.longDescription.invalid && submitted
                  }"
                ></textarea>
                <small
                  *ngIf="frm.longDescription.invalid && submitted"
                  class="p-error"
                  >Event long description is required.</small
                >
              </div>

              <div class="p-field p-col-12">
                <label for="logoimage">Event Logo Image</label>
                <input
                  id="logoimage"
                  type="text"
                  pInputText
                  formControlName="logoUrl"
                  [ngClass]="{ 'p-invalid': frm.logoUrl.invalid && submitted }"
                />
                <small *ngIf="frm.logoUrl.invalid && submitted" class="p-error"
                  >Event Logo is required.</small
                >
              </div>

              <div class="p-field p-col-12">
                <label for="bannerUrl">Event Banner Image</label>
                <input
                  id="bannerUrl"
                  type="text"
                  pInputText
                  formControlName="bannerUrl"
                />
                <!--<small *ngIf="(frm.eventBanner.invalid && submitted)" class="p-error">Event Banner is required.</small>-->
              </div>
            </div>
          </div>
          <div class="p-col-6 p-md-6">
            <div class="p-fluid p-formgrid p-grid">
              <div class="p-field p-col-12">
                <label for="eventgeolevel"
                  >Event Geo Level <span>*</span></label
                >
                <p-dropdown
                  id="eventgeolevel"
                  formControlName="eventGeoLevel"
                  [options]="geoLevelList"
                  optionLabel="name"
                  optionValue="geoLevelId"
                  placeholder="Select Event Geo Level"
                  [ngClass]="{
                    'p-invalid': frm.eventGeoLevel.invalid && submitted
                  }"
                >
                </p-dropdown>
                <small
                  *ngIf="frm.eventGeoLevel.invalid && submitted"
                  class="p-error"
                  >Event Geo Level is required.</small
                >
              </div>

              <div class="p-field p-col-12">
                <label for="startDate">Start Date <span>*</span></label>
                <p-calendar
                  #startDate
                  id="startDate"
                  formControlName="startDate"
                  dateFormat="mm/dd/yy"
                  showIcon="true"
                  [minDate]="currentDate"
                  [ngClass]="{
                    'p-invalid': frm.startDate.invalid && submitted
                  }"
                >
                </p-calendar>
                <small
                  *ngIf="frm.startDate.invalid && submitted"
                  class="p-error"
                  >Start Date is required.</small
                >
              </div>
              <div class="p-field p-col-12">
                <label for="endDate">End Date <span>*</span></label>
                <p-calendar
                  id="endDate"
                  formControlName="endDate"
                  dateFormat="mm/dd/yy"
                  [minDate]="startDate.value"
                  showIcon="true"
                  [ngClass]="{ 'p-invalid': frm.endDate.invalid && submitted }"
                >
                </p-calendar>
                <small *ngIf="frm.endDate.invalid && submitted" class="p-error"
                  >End Date is required.</small
                >
              </div>

              <div class="p-field p-col-12">
                <label for="department"
                  >Department (Primary)<span>*</span></label
                >
                <p-dropdown
                  id="department"
                  [options]="UnselectedPrimaryDepartmentList"
                  formControlName="primaryDepartment"
                  optionLabel="name"
                  optionValue="departmentId"
                  placeholder="--Select--"
                  [ngClass]="{
                    'p-invalid': frm.primaryDepartment.invalid && submitted
                  }"
                >
                </p-dropdown>
                <small
                  *ngIf="frm.primaryDepartment.invalid && submitted"
                  class="p-error"
                  >Primary Department is required.</small
                >
              </div>

              <div class="p-field p-col-12">
                <label for="participantDepartment"
                  >Patricipant Department</label
                >
                <p-multiSelect
                  id="participantDepartment"
                  [options]="UnselectedSecondaryDepartmentList"
                  formControlName="participantDepartment"
                  optionLabel="name"
                  placeholder="--Select--"
                ></p-multiSelect>
              </div>

              <div class="p-field p-col-12">
                <label for="eventStatus">Event Status</label>
                <div>{{ frm.eventStatus.value.eventStatusName }}</div>
                <!-- <p-dropdown id="eventStatus" [options]="eventStatusList" formControlName="eventStatus"
                  optionLabel="eventStatusName" optionValue="eventStatusId" placeholder="Select Event Status">
                </p-dropdown>
                <small *ngIf="(frm.eventStatus.invalid && submitted)" class="p-error">Event Status is required.</small> -->
              </div>

              <div class="p-field p-col-12 p-mt-3">
                <label for="department"
                  >Event Calendar Visibility <span>*</span></label
                >
                <div class="p-mt-3">
                  <div class="p-field-radiobutton">
                    <p-radioButton
                      type="radio"
                      formControlName="eventCalenderVisibility"
                      name="eventCalenderVisibility"
                      id="visibilitypublic"
                      value="01"
                      label="Public"
                    ></p-radioButton>
                  </div>
                  <div class="p-field-radiobutton">
                    <p-radioButton
                      type="radio"
                      formControlName="eventCalenderVisibility"
                      name="eventCalenderVisibility"
                      id="visibilityprivate"
                      value="02"
                      label="Private"
                    >
                    </p-radioButton>
                  </div>
                </div>
              </div>

              <div class="p-field p-col-12">
                <label for="logoimage"
                  >Calendar Event Name <span>*</span></label
                >
                <input
                  id="logoimage"
                  type="text"
                  pInputText
                  formControlName="calendarEventName"
                  [ngClass]="{
                    'p-invalid': frm.calendarEventName.invalid && submitted
                  }"
                />
                <small
                  *ngIf="frm.calendarEventName.invalid && submitted"
                  class="p-error"
                  style="display: block"
                  >Calendar Event Name is required.</small
                >
              </div>
            </div>
          </div>
        </div>
      </div>
    </ng-template>
    <ng-template pTemplate="footer">
      <div class="p-grid p-nogutter p-justify-end">
        <p-button
          label="Save & Close"
          (onClick)="SaveCloseEventTemplate()"
          class="p-mr-2"
        ></p-button>
        <p-button
          label="Save & Next"
          (onClick)="SaveNextEventTemplate()"
          class="p-mr-2"
        ></p-button>
        <p-button
          label="Next"
          (onClick)="nextPage()"
          [disabled]="this.eventTemplateId <= 0"
          icon="pi pi-angle-right"
          iconPos="right"
        ></p-button>
      </div>
    </ng-template>
  </p-card>
</div>
